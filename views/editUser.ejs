<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head') %>
<body>

<%- include('partials/navbar') %>

  <div id="app">
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div class="container mt-5 mb-5">
          <h2>Edit Profile</h2>
          <div class="card">
            <div class="card-body">
              <form @submit.prevent="updateUser()" enctype="multipart/form-data">
                <div class="form-group">
                  <label for="nombre">Full Name:</label>
                  <input type="text" class="form-control" id="nombre" value="<%- user.nombre %>" placeholder="Enter your full name" required v-model="user.nombre">
                </div>
                <div class="form-group">
                  <label for="usuario">Username:</label>
                  <input type="text" class="form-control" id="usuario" value="<%- user.usuario %>" placeholder="Enter your username" required v-model="user.usuario">
                </div>
                <div class="form-group">
                  <label for="email">Email address:</label>
                  <input type="email" class="form-control" id="email" value="<%- user.email %>" placeholder="Enter your email" required v-model="user.email">
                </div>
                <div class="form-group">
                  <label for="password">New Password:</label>
                  <input type="password" class="form-control" id="password" value="<%- user.password %>" placeholder="Enter your new password" required v-model="user.password">
                </div>
                <div class="form-group">
                  <img class="img-fluid mt-3 mb-3" src="<%- user.avatar %>" alt="">
                </div>
                <div class="form-group">
                  <label for="avatar">Avatar:</label>
                  <input type="file" name="avatar" ref="avatar" accept="image/*"  @change="subirImagen" class="form-control" placeholder="Cambiar foto de perfil" id="avatar">
                </div>

                <button type="submit" class="btn btn-primary mt-3">Editar usuario</button>
              </form>
            </div>
          </div>
        </div>

        <div>
          <button class="btn btn-outline-danger" @click="deleteUser()">Eliminar usuario</button>
        </div>
      </main>
    </div>


<script>
  const user = JSON.parse(`<%- JSON.stringify(user) %>`)
</script>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</body>
</html>
